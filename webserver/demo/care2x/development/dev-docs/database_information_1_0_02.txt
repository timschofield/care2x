# This is the database structure, the tables' and table elements' descriptions for 
# CARE 2002 beta 1.0, beta 1.0.01 and beta 1.0.02
#
# Do not use this document as an sql script. 
#
#
# Table structure for table 'cafe_menu_de'
# Contains the menu of the cafeteria or canteen in german language
# Note: This table will be discarded in future release and a
# single table "cafe_menu" with additional "lang" element for 
# language differentiation will be created in the future.
# The reason for creating different elements for year,month & day
# is the design of the cafe's gui itself
# Module using the table:  Cafenews, Cafenew enter new menu, 
#

CREATE TABLE cafe_menu_de (
   cyear smallint(4) DEFAULT '0' NOT NULL,  # year of menu's entry
   cmonth tinyint(2) DEFAULT '0' NOT NULL,  # month of menu's entry
   cday tinyint(2) DEFAULT '0' NOT NULL,    # day of menu's entry
   menu text NOT NULL,                      # menu entry in free flowing text, might contain html chars
   encoder tinytext NOT NULL                # author's name
);
# --------------------------------------------------------

#
# Table structure for table 'cafe_menu_en'
# Contains the menu of the cafeteria or canteen in english language
# Note: This table will be discarded in future release and a
# single table "cafe_menu" with additional "lang" element for 
# language differentiation will be created in the future.
#
CREATE TABLE cafe_menu_en (
   cyear smallint(4) DEFAULT '0' NOT NULL,  # year of menu's entry
   cmonth tinyint(2) DEFAULT '0' NOT NULL,  # month of menu's entry
   cday tinyint(2) DEFAULT '0' NOT NULL,    # day of menu's entry
   menu text NOT NULL,                      # menu entry in free flowing text, might contain html chars
   encoder tinytext NOT NULL                # author's name
);
# --------------------------------------------------------

#
# Table structure for table 'cafe_prices_de'
# Contains the products' prices of the cafeteria or canteen in german language
# Note: This table will be discarded in future release and a
# single table "cafe_prices" with additional "lang" element for 
# language differentiation will be created in the future.

CREATE TABLE cafe_prices_de (
   productgroup tinytext NOT NULL, # name of product's group e.g. Beverages, Snacks, Wines, etc.
   article tinytext NOT NULL,      # product's name e.g. Coke, Pepsi, Watermelon, etc.
   description tinytext NOT NULL,  # description of the product e.g. "new", "with chili", etc.
   price_dm tinytext NOT NULL,     # price in DMark
   price_euro tinytext NOT NULL,   # price in Euro
   unit tinytext NOT NULL,         # unit e.g. "pcs.", "bottle", "kg.", "ounce", etc.
   pic_filename tinytext NOT NULL, # filename of the product's picture, the file itself is stored on the disk (not in database)
   uid varchar(25) NOT NULL        # unique id number, used for differentiated search of products which might have very similar data
);
# --------------------------------------------------------

#
# Table structure for table 'cafe_prices_en'
# Contains the products' prices of the cafeteria or canteen in english language
# Note: This table will be discarded in future release and a
# single table "cafe_prices" with additional "lang" element for 
# language differentiation will be created in the future.

CREATE TABLE cafe_prices_en (
   productgroup tinytext NOT NULL, # name of product's group e.g. Beverages, Snacks, Wines, etc.
   article tinytext NOT NULL,      # product's name e.g. Coke, Pepsi, Watermelon, etc.
   description tinytext NOT NULL,  # description of the product e.g. "new", "with chili", etc.
   price_dm tinytext NOT NULL,     # price in DMark
   price_euro tinytext NOT NULL,   # price in Euro
   unit tinytext NOT NULL,         # unit e.g. "pcs.", "bottle", "kg.", "ounce", etc.
   pic_filename tinytext NOT NULL, # filename of the product's picture, the file itself is stored on the disk (not in database)
   uid varchar(25) NOT NULL        # unique id number, used for differentiated search of products which might have very similar data
);
# --------------------------------------------------------

#
# Table structure for table 'doctors_dept_personell_quicklist'
# Contains the doctors' data
# Used as list for quick info pop-up windows
#

CREATE TABLE doctors_dept_personell_quicklist (
   dept varchar(15) NOT NULL,      # name of department e.g. "general surgery", etc.
   year varchar(4) NOT NULL,       # year of list's validity
   month char(2) NOT NULL,         # month of list's validity
   list text NOT NULL,             # list of the doctors to be shown in "quick list" pop-up windows
   src_date varchar(6) NOT NULL    # additional date element for searching purposes. Format: YYYYMMDD
);
# --------------------------------------------------------

#
# Table structure for table 'doctors_dutyplan'
# Contains the duty plan of doctors and physicians
# Note: the a_dutyplan and r_dutyplan elements contain the list of doctors in the following relative URL format:
#
#  l=lastname&f=firstname&b=dd.mm.yyyy&s=lastname,firstname
#
# This line is decoded by php using the parse_str() function.
# Each URL formatted line contains the data for one day. The first for day 1, the second for day 2, etc.
# The lines are concatenated using the " ~" chararcters (space + tilde). When a line has no data in it, it is replaced with
# the "?" char. Example:
#
# l=Smith&f=John&01.02.2001&=Smith,John ~? ~l=Monroe&f=Marilyn&b=02.03.1999&s=Monroe,Marilyn
#
# The above example will produce a list at the gui in this way
# Day 1 : Smithm, John
# Day 2 : (empty line)
# Day 3 : Monroe, Marilyn
# 
# Module using the table: Doctors, Duty Quickview, Duty plan
# Files involved: all files starting with "doctors_dienstplan_" and "doctors_dienst_"

CREATE TABLE doctors_dutyplan (
   dept varchar(15) NOT NULL,     # name of department e.g. "emergency surgery"
   year varchar(4) NOT NULL,      # year of plan
   month char(2) NOT NULL,        # month of plan
   a_dutyplan text NOT NULL,      # name of doctor on stay-in duty. Format: see the explanation above
   r_dutyplan text NOT NULL,      # name of doctor on on-call duty  Format: see the explanation above
   tid timestamp(14),             # timestamp for differentiation purposes
   encoding text NOT NULL         # name of person who made the duty plan
);
# --------------------------------------------------------

#
# Table structure for table 'drg_quicklist_de'
# Contains the drg (dianosis related groups) items used as "quicklist" (GERMAN language)
# NOTE: this table will be discarded in the future and replaced with "drg_quicklist" with
# an additional "lang" element for language differentiation
# Module using the table: OP, OP Logbuch Enter new document
# Files involved:  all files in main/ directory starting with "drg_" 
#

CREATE TABLE drg_quicklist_de (
   dept varchar(20) NOT NULL,         # department's name (e.g. "plastic surgery") that uses the list
   type varchar(10) NOT NULL,         # type of drg code (OPS301 - german surgical operations code v.302) or (ICD10 = International Classifications of Diseases v.10)
   code_description text NOT NULL,    # codes' description list in the URL format:  code=codenumber&des=description_of_code (decoding is similar to the above described techniques)
   rank int(11) DEFAULT '0' NOT NULL  # ranking number to determine in which order the code will appear on the list (is incremented everytime the code is selected for documentation)
);
# --------------------------------------------------------

#
# Table structure for table 'drg_quicklist_en'
# Contains the drg (dianosis related groups) items used as "quicklist" (ENGLISH language)
# NOTE: this table will be discarded in the future and replaced with "drg_quicklist" with
# an additional "lang" element for language differentiation
# Module using the table: OP, OP Logbuch Enter new document
# Files involved:  all files in main/ directory starting with "drg_" 

CREATE TABLE drg_quicklist_en (
   dept varchar(20) NOT NULL,         # department's name (e.g. "plastic surgery") that uses the list
   type varchar(10) NOT NULL,         # type of drg code (OPS301 - german surgical operations code v.302) or (ICD10 = International Classifications of Diseases v.10)
   code_description text NOT NULL,    # codes' description list in the URL format:  code=codenumber&des=description_of_code (decoding is similar to the above described techniques)
   rank int(11) DEFAULT '0' NOT NULL  # ranking number to determine in which order the code will appear on the list (is incremented everytime the code is selected for documentation)
);
# --------------------------------------------------------

#
# Table structure for table 'drg_related_codes_de'
# Contains the cross coding among the hospital's internal coding system (code)= German language
# and related ICD10 (related_icd) and related OPS301 (related_ops)
# Note: this will be discarded in the future in favor of a single table "drg_related_codes" with "lang" element for
# language differentiation
# Module using the table: OP, OP Logbuch Enter new document
# Files involved:  all files in main/ directory starting with "drg_" 
#

CREATE TABLE drg_related_codes_de (
   code varchar(10) NOT NULL,          # code of a hospitals internal coding system (non-standard system)
   related_icd text NOT NULL,          # the related ICD10 code (international WHO standard)
   related_ops text NOT NULL,          # the related OPS302 code (german system for surgical operations)
   rank int(11) DEFAULT '0' NOT NULL   # ranking number to determine in which order the code will appear on the list (is incremented everytime the code is selected for documentation)
);
# --------------------------------------------------------

#
# Table structure for table 'drg_related_codes_en'
# Contains the cross coding among the hospital's internal coding system (code)= ENGLISH language
# and related ICD10 (related_icd) and related OPS301 (related_ops)
# Note: this will be discarded in the future in favor of a single table "drg_related_codes" with "lang" element for
# language differentiation
# Module using the table: OP, OP Logbuch Enter new document
# Files involved:  all files in main/ directory starting with "drg_" 
#

CREATE TABLE drg_related_codes_en (
   code varchar(10) NOT NULL,          # code of a hospitals internal coding system (non-standard system)
   related_icd text NOT NULL,          # the related ICD10 code (international WHO standard)
   related_ops text NOT NULL,          # the related OPS302 code (german system for surgical operations)
   rank int(11) DEFAULT '0' NOT NULL   # ranking number to determine in which order the code will appear on the list (is incremented everytime the code is selected for documentation)
);
# --------------------------------------------------------

#
# Table structure for table 'duty_performance_report'
# Contains the operation work done within the on-call duty time
#

CREATE TABLE duty_performance_report (
   dept varchar(15) NOT NULL,         # department's name involved in the operation/therapy
   date varchar(10) NOT NULL,         # date of documentation or therapy
   src_date varchar(8) NOT NULL,      # date used for searching,sorting and comparison purposes
   a_name varchar(30) NOT NULL,      # stay-in duty's name
   a_stime varchar(5) NOT NULL,       # stay-in duty's start time
   a_etime varchar(5) NOT NULL,       # stay-in duty's end time
   r_name varchar(30) NOT NULL,       # on-call duty's name
   r_stime varchar(5) NOT NULL,       # on-call duty's start time
   r_etime varchar(5) NOT NULL,       # on-call duty's end time
   op_room char(2) NOT NULL,          # room number of operating room
   diag_therapy text NOT NULL,        # diagnosis and therapy
   encoding text NOT NULL,            # name of documenting person
   tid timestamp(14)                  # timestamp for sorting, searching, etc.
);
# --------------------------------------------------------


#
# Table structure for table 'icd10_de'
# Contains the international standard ICD10 in german language
#

CREATE TABLE icd10_de (
   diagnosis_code varchar(12) NOT NULL,        # standard code for the diagnosis
   description text NOT NULL,                  # description of diagnosis
   class_sub varchar(5) NOT NULL,              # sub classification code
   type varchar(10) NOT NULL,                  # for internal formatting ("table","p","c")
   inclusive text NOT NULL,                    # Inklusiva
   exclusive text NOT NULL,                    # Exklusiva
   notes text NOT NULL,                        # Extra notes and remarks about the diagnosis
   std_code char(1) NOT NULL,                  # Standard code for formatting purposes ("M","N",etc)
   sub_level tinyint(4) DEFAULT '0' NOT NULL,  # Formatting tags
   remarks text NOT NULL,                      # Remarks
   extra_codes text NOT NULL,                  # Extra codes
   extra_subclass text NOT NULL                # Extra subclassification
);
# --------------------------------------------------------

#
# Table structure for table 'icd10_en'
# Contains the international standard ICD10 in english language
# Note: this is a non-official version of the english ICD10
# The official version is copyrighted and being sold by WHO
#

CREATE TABLE icd10_en (
   diagnosis_code varchar(12) NOT NULL,        # standard code for the diagnosis
   description text NOT NULL,                  # description of diagnosis
   class_sub varchar(5) NOT NULL,              # sub classification code
   type varchar(10) NOT NULL,                  # for internal formatting ("table","p","c")
   inclusive text NOT NULL,                    # Inklusiva
   exclusive text NOT NULL,                    # Exklusiva
   notes text NOT NULL,                        # Extra notes and remarks about the diagnosis
   std_code char(1) NOT NULL,                  # Standard code for formatting purposes ("M","N",etc)
   sub_level tinyint(4) DEFAULT '0' NOT NULL,  # Formatting tags
   remarks text NOT NULL,                      # Remarks
   extra_codes text NOT NULL,                  # Extra codes
   extra_subclass text NOT NULL                # Extra subclassification
);
# --------------------------------------------------------

#
# Table structure for table 'lab_test_data'
# Contains the data of laboratory test results
#

CREATE TABLE lab_test_data (
   patnum varchar(10) NOT NULL,                # Patient's or case number
   lastname varchar(40) NOT NULL,              # Patient's last name
   firstname varchar(40) NOT NULL,             # Patient's first name
   bday varchar(10) NOT NULL,                  # Date of birth   
   test_date varchar(10) NOT NULL,             # Date of lab testing. Format: area dependent
   test_time varchar(5) NOT NULL,              # Time of lab testing. Format: area dependent
   test_sortdate varchar(8) NOT NULL,          # Date used for searching, sorting, comparison. Format: YYYYDDMM
   job_id varchar(10) NOT NULL,				   # Test batch id number
   dr_name varchar(30) NOT NULL,               # Doctor's name conducting the lab test
   dr_tstamp varchar(16) NOT NULL,             # Time stamp of the testing
   life_risk tinyint(4) DEFAULT '0' NOT NULL,  # Life risk specimen flag
   rarity tinytext NOT NULL,                   # Rare specimen flag
   specials tinytext NOT NULL,                 # Special specimen flag
   clinical_info tinytext NOT NULL,            # Clinical information, remarks, etc
   TOP_Parameter text NOT NULL,                # Top priority parameters which are frequently tested e.g. Hb,Calcium,Hk,Sodium
   Klinische_Chemie text NOT NULL,             # Results list of the "clinical chemistry" param group
   Liquor text NOT NULL,                       # Results list of the "Liquor" param group
   Gerinnung text NOT NULL,                    # Results list of the "Coagulation" param group
   Hämatologie text NOT NULL,                  # Results list of the "Hämatology" param group
   Blutzucker text NOT NULL,                   # Results list of the "Blood sugar" param group
   Säugling text NOT NULL,                     # Results list of the "Infants" param group
   Proteine text NOT NULL,                     # Results list of the "Proteins" param group
   Schilddrüse text NOT NULL,                  # Results list of the "Thyroid glands" param group
   Hormone text NOT NULL,                      # Results list of the "Hormones" param group
   Tumormarker text NOT NULL,                  # Results list of the "Tumor marker" param group
   Gewebe_AK text NOT NULL,                    # Results list of the "Tissue Antibodies" param group
   Rheumafaktor text NOT NULL,                 # Results list of the "Rheuma factor" param group
   Hepatitis text NOT NULL,                    # Results list of the "Hepatitis" param group
   Punktate text NOT NULL,                     # Results list of the "Punctate" param group
   Infektionsserologie text NOT NULL,          # Results list of the "Infection serology" param group
   Medikamente text NOT NULL,                  # Results list of the "Medicine" param group
   Mutterschutzt_Vorsorge text NOT NULL,       # Results list of the "Prenatal" param group  
   Stuhl text NOT NULL,                        # Results list of the "Stool" param group
   Raritäten text NOT NULL,                    # Results list of the "Rare specimen" param group
   Urin_Spontanurin text NOT NULL,             # Results list of the "Urin /spontaneous Urin" param group
   Sammelurin text NOT NULL,                   # Results list of the "Collected urin" param group
   Sonstiges text NOT NULL,                    # Results list of the "Specials" param group
   encoding text NOT NULL,                     # Log of the batch's documentation history (for legal purposes)
   tid timestamp(14),                          # timestamp for differentiation purposes
   validator varchar(15) NOT NULL,             # Name of validator
   valid_tstamp varchar(16) NOT NULL           # Validation timestamp
);
# Notes: the results list of a parameter group is stored in a relative URL format: Bilirubin=23&Quick=233&PTT=192&Hb=12   etc.
# --------------------------------------------------------

#
# Table structure for table 'lab_test_parameter'
# Future table for the lab test parameters list. Inactive at the moment.
#

CREATE TABLE lab_test_parameter (
   priority text NOT NULL
);
# --------------------------------------------------------

#
# Table structure for table 'mahopass'
# Contains user permission and access rights. 
# Note: The password element will be encrypted in the future releases of CARE
# This table will certainly be modified in the future in anticipation of 
# improvements in the security techniques. The number of permitted area elements
# might expand (or the system will be modified) in response to changes in the
# project's design concepts. The different permitted area elements are due to
# different permission hierarchies in the hospital organization.
#

CREATE TABLE mahopass (
   mahopass_name tinytext,                              # Normal user's name
   mahopass_id tinytext,                                # User's login name (username)
   mahopass_password tinytext,                          # User's password 
   mahopass_lockflag tinyint(3) unsigned DEFAULT '0',   # Lock flag (1 = permission is active, 0 = permission is locked)
   mahopass_area1 tinytext,                             # Permitted area # 1
   mahopass_area2 tinytext,                             # Permitted area # 2
   mahopass_area3 tinytext,                             # Permitted area # 3
   mahopass_area4 tinytext,                             # Permitted area # 4
   mahopass_area5 tinytext,                             # Permitted area # 5
   mahopass_area6 tinytext,                             # Permitted area # 6
   mahopass_area7 tinytext,                             # Permitted area # 7
   mahopass_area8 tinytext,                             # Permitted area # 8
   mahopass_area9 tinytext,                             # Permitted area # 9
   mahopass_area10 tinytext,                            # Permitted area # 10
   mahopass_date tinytext,                              # Date of permission creation
   mahopass_time tinytext,                              # Time of permission creation
   mahopass_encoder tinytext,                           # Name of person who created the permission
   exc tinyint(1) DEFAULT '0' NOT NULL,                 # Flag for System_Admin (or for hiding the permission info from the GUI)
   expire_date int(6) DEFAULT '0' NOT NULL,             # Access right's expiration date (inactive at the moment)
   expire_time int(4) DEFAULT '0' NOT NULL              # Access right's expiration time (inactive at the moment)
);
# --------------------------------------------------------

#
# Table structure for table 'mahopatient'
# Contains the main data of an admitted patient
#

CREATE TABLE mahopatient (
   item int(10) unsigned,               # Item number, might be discarded in the future
   patnum int(10) unsigned,             # Patient's or case number
   title tinytext,                      # Patient's title (Mr., Sir, Prof. etc.)
   name tinytext,                       # Last name
   vorname tinytext,                    # First name
   gebdatum tinytext,                   # Date of birth
   sex tinytext NOT NULL,               # Sex
   address tinytext,                    # Address
   phone1 tinytext,                     # Tel.phone # 1
   status varchar(4),                   # Civil status
   kasse tinytext,                      # Insurance type
   kassename tinytext,                  # Insurer's name
   diagnose tinytext,                   # Diagnosis during admission
   referrer tinytext,                   # Referring doctor or clinic
   therapie tinytext,                   # Recommended therapy during admission
   besonder tinytext,                   # Special notes and remarks
   pdate varchar(10),                   # Date of admission
   ptime tinytext,                      # Time of admission
   encoder tinytext,                    # Admitter's name
   sdate varchar(10) NOT NULL,          # Admission's date used for searching, sorting and comparison. Format: YYYYMMDD
   discharge_date varchar(10) NOT NULL, # Dismissal date
   discharge_time varchar(5) NOT NULL,  # Dismissal time
   discharge_sdate varchar(10) NOT NULL,# Dismissal date used for searching, sorting and comparison. Format: YYYYMMDD
   discharge_art varchar(10) NOT NULL   # Dismissal type or reason
);
# --------------------------------------------------------

#
# Table structure for table 'mahophone'
# Contains the hospital's internal telephone directory but not limited to it.
#

CREATE TABLE mahophone (
   mahophone_item int(10) unsigned,  # Item number, will be discarded in the future in favor of timestamp
   mahophone_title tinytext,         # Person's title (if applicable)
   mahophone_name tinytext,          # Name or person, department, clinic, etc.
   mahophone_vorname tinytext,       # First name (if applicable)
   mahophone_beruf tinytext,         # Profession (if applicable)
   mahophone_bereich1 tinytext,      # Area or department # 1
   mahophone_bereich2 tinytext,      # Area or department # 2
   mahophone_inphone1 tinytext,      # Internal phone number 1
   mahophone_inphone2 tinytext,      # Internal phone number 2
   mahophone_inphone3 tinytext,      # Internal phone number 3
   mahophone_exphone1 tinytext,      # External phone number 1
   mahophone_exphone2 tinytext,      # External phone number 2
   mahophone_funk1 tinytext,         # Internal beeper number 1
   mahophone_funk2 tinytext,         # Internal beeper number 2
   mahophone_roomnr tinytext,        # Room number
   mahophone_date tinytext,          # Date of entry in the directory
   mahophone_time tinytext,          # Time of entry in the directory
   mahophone_encoder tinytext        # Person who entered the data in the directory
);
# --------------------------------------------------------

#
# Table structure for table 'mail_private'
# Contains the internal email data for the NON-STANDARD email system
#

CREATE TABLE mail_private (
   recipient tinytext NOT NULL,                 # Recipient email address
   sender tinytext NOT NULL,                    # Sender's email address
   sender_ip tinytext NOT NULL,                 # Sender's IP 
   cc tinytext NOT NULL,                        # CC addresses
   bcc tinytext NOT NULL,                       # BCC addresses
   subject tinytext NOT NULL,                   # Subject  
   body text NOT NULL,                          # Text body
   sign tinytext NOT NULL,                      # Signature text
   ask4ack tinyint(4) DEFAULT '0' NOT NULL,     # Acknowledgement request flag
   reply2 tinytext NOT NULL,                    # Reply address
   attachment tinytext NOT NULL,                # Attachement filename
   attach_type tinytext NOT NULL,               # Type of attachement
   read_flag tinyint(4) DEFAULT '0' NOT NULL,   # 'Read already' marker  
   mailgroup tinytext NOT NULL,                 # Mailing group
   maildir tinytext NOT NULL,                   # Mail directory
   exec_level tinyint(4) DEFAULT '0' NOT NULL,  # Execute flag
   exclude_addr text NOT NULL,                  # Exclude addresses (anti-spam)
   send_dt tinytext NOT NULL,                   # Send date
   send_stamp timestamp(14),                    # Send timestamp
   uid tinytext NOT NULL                        # Unique id number (for searching)
);
# --------------------------------------------------------

#
# Table structure for table 'mail_private_users'
# Users' table for the non-standard email system
#

CREATE TABLE mail_private_users (
   user_name tinytext NOT NULL,                  # Name
   email tinytext NOT NULL,                      # Email address
   alias tinytext NOT NULL,                      # Alias
   pw tinytext NOT NULL,                         # Password
   inbox longtext NOT NULL,                      # List of emails in the Inbox (in URL format)
   sent longtext NOT NULL,                       # List of emails in the Sent box(in URL format)
   drafts longtext NOT NULL,                     # List of emails in the Drafts box (in URL format)
   trash longtext NOT NULL,                      # List of emails in the Trash box (in URL format)
   lastcheck timestamp(14),                      # Timestamp when the mailbox was last checked
   lock_flag tinyint(4) DEFAULT '0' NOT NULL,    # Lock flag for locking the user ( 0 = lock, 1 = activate)
   addr_book text NOT NULL,                      # Address book (the contents are in relative URL format: n=NAME&a=ALIAS&e=EMAIL_ADDRESS )
   addr_quick tinytext NOT NULL,                 # "Quick address" list (contains only email addresses)
   secret_q tinytext NOT NULL,                   # Secret question in case password is forgotten
   secret_q_ans tinytext NOT NULL,               # Answer to secret question
   public tinyint(4) DEFAULT '0' NOT NULL,       # Public or private flag
   sig tinytext NOT NULL,                        # Signature text (footer text)
   append_sig tinyint(4) DEFAULT '0' NOT NULL    # Append signature text flag (0 = no append, 1 = append)
);
# --------------------------------------------------------

#
# Table structure for table 'mail_public'
# Contains email data used for broadcast pursoses. Inactive at them moment
# and might be discarded in favor of a single table
#

CREATE TABLE mail_public (
   recipient tinytext NOT NULL,
   sender tinytext NOT NULL,
   sender_ip tinytext NOT NULL,
   cc tinytext NOT NULL,
   bcc tinytext NOT NULL,
   body text NOT NULL,
   sign tinytext NOT NULL,
   ask4ack tinyint(4) DEFAULT '0' NOT NULL,
   reply2 tinytext NOT NULL,
   attachment tinytext NOT NULL,
   attach_type tinytext NOT NULL,
   read_flag tinyint(4) DEFAULT '0' NOT NULL,
   mailgroup tinytext NOT NULL,
   maildir tinytext NOT NULL,
   exec_level tinyint(4) DEFAULT '0' NOT NULL,
   exclude_addr text NOT NULL
);
# --------------------------------------------------------

#
# Table structure for table 'med_ordercatalog'
# Contains order data for ordering medical or central depot products
#

CREATE TABLE med_ordercatalog (
   dept varchar(20) NOT NULL,          # Department name of the catalog
   hit int(11) DEFAULT '0' NOT NULL,   # Ranking number to determine the order in which the product is shown on the list
   artikelname tinytext NOT NULL,      # Product article's name
   bestellnum tinytext NOT NULL,       # Order number (number is usually set internally by the depot department)
   proorder tinytext NOT NULL          # Number of pcs. per order (set usually by the Depot department)
);
# --------------------------------------------------------

#
# Table structure for table 'med_orderlist'
# Contains the order list to the medical or central products depot
#

CREATE TABLE med_orderlist (
   dept varchar(20) NOT NULL,     # Department's name
   order_id tinytext NOT NULL,    # Order id number
   order_date tinytext NOT NULL,  # Order date
   articles text NOT NULL,        # List of ordered articles or products. Format in relative URL: bestellnum=232234&artikelname=Paracetamol&pcs=1&proorder=50
   extra1 tinytext NOT NULL,      # Extra Notes 1 (for extra requests not found in the databank)
   extra2 text NOT NULL,          # Extra Notes 2
   encoder tinytext NOT NULL,     # Name of ordering personell
   validator tinytext NOT NULL,   # Name of validator (usually a doctor)
   order_time text NOT NULL,      # Order time
   ip_addr tinytext NOT NULL,     # IP address of workstation where order was created
   priority tinytext NOT NULL,    # Priority flag (normal, urgent)
   sent_stamp timestamp(14)
);
# --------------------------------------------------------

#
# Table structure for table 'med_orderlist_archive'
# Archive table for order lists to medical or central products depot
#

CREATE TABLE med_orderlist_archive (
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at med_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'med_orderlist_archive_trash'
# Contains the archive orderlist serving as temporar trash storage
# for recycling purposes. Identical to med_orderlist_archive
#

CREATE TABLE med_orderlist_archive_trash (
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at med_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'med_orderlist_todo'
# Contains the pointer to the order list which are pending for processing
# Identical to med_orderlist_archive
#

CREATE TABLE med_orderlist_todo (
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at med_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'med_products_main'
# Contains the main products data of the medical and central products depot
#

CREATE TABLE med_products_main (
   bestellnum tinytext NOT NULL,               # Ordering number (internally created number)
   artikelnum tinytext NOT NULL,               # Product article number (usually supplied by the manufacturer)
   industrynum tinytext NOT NULL,              # Industry number (usually industrial registration number)
   artikelname tinytext NOT NULL,              # Product article's name e.g. "Laser printer"
   generic tinytext NOT NULL,                  # Generic name (if applicable)
   description text NOT NULL,                  # Product's description
   packing tinytext NOT NULL,                  # Packing type
   minorder int(4) DEFAULT '0' NOT NULL,       # Mininum number per order
   maxorder int(4) DEFAULT '0' NOT NULL,       # Maximum number per order
   proorder tinytext NOT NULL,                 # Number of items per unit order
   picfile tinytext NOT NULL,                  # Filename of the product's picture (the picture itself is saved as file)
   encoder tinytext NOT NULL,                  # Name of person who entered the product's data
   enc_date tinytext NOT NULL,                 # Entry date
   enc_time tinytext NOT NULL,                 # Entry time
   lock_flag tinyint(1) DEFAULT '0' NOT NULL,  # Flag for locking the product (0 = lock or hide, 1 = make available)
   medgroup text NOT NULL,                     # Medical group of the product
   cave tinytext NOT NULL                      # Caution notices
);
# --------------------------------------------------------

#
# Table structure for table 'med_products_trash'
# Temporary storage for deleted medical or central products
# Identical to med_products_main
#

CREATE TABLE med_products_trash (
   bestellnum tinytext NOT NULL,               # Ordering number (internally created number)
   artikelnum tinytext NOT NULL,               # Product article number (usually supplied by the manufacturer)
   industrynum tinytext NOT NULL,              # Industry number (usually industrial registration number)
   artikelname tinytext NOT NULL,              # Product article's name e.g. "Laser printer"
   generic tinytext NOT NULL,                  # Generic name (if applicable)
   description text NOT NULL,                  # Product's description
   packing tinytext NOT NULL,                  # Packing type
   minorder int(4) DEFAULT '0' NOT NULL,       # Mininum number per order
   maxorder int(4) DEFAULT '0' NOT NULL,       # Maximum number per order
   proorder tinytext NOT NULL,                 # Number of items per unit order
   picfile tinytext NOT NULL,                  # Filename of the product's picture (the picture itself is saved as file)
   encoder tinytext NOT NULL,                  # Name of person who entered the product's data
   enc_date tinytext NOT NULL,                 # Entry date
   enc_time tinytext NOT NULL,                 # Entry time
   lock_flag tinyint(1) DEFAULT '0' NOT NULL,  # Flag for locking the product (0 = lock or hide, 1 = make available)
   medgroup text NOT NULL,                     # Medical group of the product
   cave tinytext NOT NULL                      # Caution notices
);
# --------------------------------------------------------

#
# Table structure for table 'med_report'
# Contains the reports to the medical or central products depot
#

CREATE TABLE med_report (
   dept varchar(15) NOT NULL,             # Department's name that sent the report
   job text NOT NULL,                     # Text body of the report
   reporter varchar(25) NOT NULL,         # Name of reporter
   id varchar(15) NOT NULL,               # Report id number
   tdate varchar(11) NOT NULL,            # Reporting date. Free format.
   ttime varchar(7) NOT NULL,             # Reporting time. Free format.
   tid timestamp(14),                     # Timestamp
   seen tinyint(1) DEFAULT '0' NOT NULL,  # "Seen" or "Not-yet-seen" flag (0 = not yet seen, 1 = seen)
   d_idx varchar(8) NOT NULL              # Date for searching, sorting, comparison. Format: YYYYMMDD
);
# --------------------------------------------------------

#
# Table structure for table 'medocs'
# Contains the "medocs" documentation of patient medical records
# Note: Doc = Document
#

CREATE TABLE medocs (
   dept varchar(30) NOT NULL,                 # Department's name
   doc_no int(11) DEFAULT '0' NOT NULL,       # Doc id number
   enc_date varchar(11) NOT NULL,             # Doc date
   patient_no int(11) DEFAULT '0' NOT NULL,   # Patient's or case number
   lastname tinytext NOT NULL,                # Last name
   firstname tinytext NOT NULL,               # First name
   birthdate varchar(11) NOT NULL,            # Date of birth
   sex char(1) NOT NULL,                      # sex
   address tinytext NOT NULL,                 # Address
   insurance tinytext NOT NULL,               # Insurance type 
   insurance_xtra tinytext NOT NULL,          # Extra notes about the insurance
   informed tinyint(4) DEFAULT '0' NOT NULL,  # Flag for medical advice (0 = Patient is not yet advised, 1 = patient is advised)
   diagnosis_1 text NOT NULL,                 # Diagnosis 1
   therapy_1 text NOT NULL,                   # Therapy 1
   diagnosis_2 text NOT NULL,                 # Diagnosis 2
   therapy_2 text NOT NULL,                   # Therapy 2
   diagnosis_3 text NOT NULL,                 # Diagnosis 3
   therapy_3 text NOT NULL,                   # Therapy 3
   keynumber tinytext NOT NULL,               # Keynumber (obsoleter & will be discarded in the future)
   enc_time varchar(9) NOT NULL,              # Doc time
   encoder tinytext NOT NULL,                 # Author of doc
   edit_date varchar(11) NOT NULL,            # Last Edit date
   edit_time varchar(9) NOT NULL,             # Last Edit time
   editor varchar(30) NOT NULL,               # Doc editor
   hidden tinyint(1) DEFAULT '0' NOT NULL     # Flag for hiding the doc
);
# --------------------------------------------------------


#
# Table structure for table 'news_article_de'
# Contains the filenames, pointers, titles, etc. of the news articles (GERMAN LANGUAGE)
# Note: this will be discarded in favor of a single table "news_article" with an
# additional "lang" element for language differentiation
#

CREATE TABLE news_article_de (
   category tinytext NOT NULL,               # News category (e.g. Headline)
   title tinytext NOT NULL,                  # News title
   art_num tinyint(1) DEFAULT '0' NOT NULL,  # News article formatting number (1,2,3,4,5)
   head_file tinytext NOT NULL,              # News header filename
   main_file tinytext NOT NULL,              # Main article filename
   pic_file tinytext NOT NULL,               # Picture filename
   author varchar(30) NOT NULL,              # Author
   encode_date varchar(10) NOT NULL,         # Creation date
   publish_date varchar(10) NOT NULL,        # Date of publication's start
   logged_encoder varchar(25) NOT NULL,      # Name of logged-in user (not the author)      
   tstamp timestamp(14)                      # Timestamp for seaching, sorting, comparison, etc.
);
# --------------------------------------------------------

#
# Table structure for table 'news_article_en'
# Similar to the "news_article_en" but for the english language
# Note: this will be discarded in favor of a single table "news_article" with an
# additional "lang" element for language differentiation

CREATE TABLE news_article_en (
   category tinytext NOT NULL,               # News category (e.g. Headline)
   title tinytext NOT NULL,                  # News title
   art_num tinyint(1) DEFAULT '0' NOT NULL,  # News article formatting number (1,2,3,4,5)
   head_file tinytext NOT NULL,              # News header filename
   main_file tinytext NOT NULL,              # Main article filename
   pic_file tinytext NOT NULL,               # Picture filename
   author varchar(30) NOT NULL,              # Author
   encode_date varchar(10) NOT NULL,         # Creation date
   publish_date varchar(10) NOT NULL,        # Date of publication's start
   logged_encoder varchar(25) NOT NULL,      # Name of logged-in user (not the author)      
   tstamp timestamp(14)                      # Timestamp for seaching, sorting, comparison, etc.
);
# --------------------------------------------------------

#
# Table structure for table 'news_public'
# INACTIVE. Might be discarded in the future.
#

CREATE TABLE news_public (
   recipient tinytext NOT NULL,
   sender tinytext NOT NULL,
   sender_ip tinytext NOT NULL,
   cc tinytext NOT NULL,
   bcc tinytext NOT NULL,
   body text NOT NULL,
   sign tinytext NOT NULL,
   ask4ack tinyint(4) DEFAULT '0' NOT NULL,
   reply2 tinytext NOT NULL,
   attachment tinytext NOT NULL,
   attach_type tinytext NOT NULL,
   read_flag tinyint(4) DEFAULT '0' NOT NULL,
   mailgroup tinytext NOT NULL,
   maildir tinytext NOT NULL,
   exec_level tinyint(4) DEFAULT '0' NOT NULL,
   exclude_addr text NOT NULL
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_dept_personell_quicklist'
# Contains the list for "quicklist" for the nursing department
#

CREATE TABLE nursing_dept_personell_quicklist (
   dept varchar(15) NOT NULL,     # Department's name
   year varchar(4) NOT NULL,      # List's valid year
   month char(2) NOT NULL,        # List's valid month
   list text NOT NULL,            # The actual list of personell (in relative URL format)
   src_date varchar(6) NOT NULL   # Date for searching. Forma: YYYYMMDD
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_dutyplan'
# Nurses' on-call and stay-in duty plan
# This table's function and purpose is very similar to that of the doctors_dutyplan table
# For details see the doctors_dutyplan table above
#

CREATE TABLE nursing_dutyplan (
   dept varchar(15) NOT NULL,  # Department's name
   year varchar(4) NOT NULL,   # Year of plan
   month char(2) NOT NULL,     # Month of plan
   a_dutyplan text NOT NULL,   # Stay-in duty nurse (in relative URL format:  l=lastname&f=firstname&b=birhtdate )
   r_dutyplan text NOT NULL,   # On-call duty nurse (in relative URL format:  l=lastname&f=firstname&b=birhtdate )
   tid timestamp(14),          # Timestamp for searching, sorting, comparison
   encoding text NOT NULL      # Name of planner
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_op_logbook'
# Contains all data and information involved in a surgical operation
# NOTE:  OP = surgical operation, Doc = Document
#

CREATE TABLE nursing_op_logbook (
   year varchar(4) DEFAULT '0' NOT NULL,      # Op Year
   dept varchar(30) NOT NULL,                 # Department's name
   op_room varchar(10) DEFAULT '0' NOT NULL,  # Op room number or name
   op_nr mediumint(9) DEFAULT '0' NOT NULL,   # Op id number
   op_date varchar(10) NOT NULL,              # Op date. Free format.
   op_src_date varchar(8) NOT NULL,           # Op date. Search format: YYYYMMDD
   patnum varchar(15) NOT NULL,               # Patient's or case number
   lastname varchar(35) NOT NULL,             # Lastname
   firstname varchar(25) NOT NULL,            # Firstname
   bday varchar(10) NOT NULL,                 # Date of birth
   address tinytext NOT NULL,                 # Address
   diagnosis text NOT NULL,                   # Diagnosis
   operator text NOT NULL,                    # Surgeon's name
   assistant text NOT NULL,                   # Assistant surgeon's name
   scrub_nurse text NOT NULL,                 # Scrub nurse's name
   rotating_nurse text NOT NULL,              # Rotating nurse's name
   anesthesia varchar(30) NOT NULL,           # Type of anesthesia
   an_doctor text NOT NULL,                   # Anesthesiologist's name
   op_therapy text NOT NULL,                  # Type of operation or therapy
   result_info text NOT NULL,                 # Result of op remarks
   entry_time varchar(5) NOT NULL,            # Patient's entry in Op 
   cut_time varchar(5) NOT NULL,              # Op start (first incision)
   close_time varchar(5) NOT NULL,            # Op end (last suture, bandage, plaster cast)
   exit_time varchar(5) NOT NULL,             # Patient's exit from Op
   entry_out text NOT NULL,                   # Enter/Exit times in relative URL format
   cut_close text NOT NULL,                   # Op start/end times in relative URL format
   wait_time text NOT NULL,                   # Waiting/idle times in relative URL format
   bandage_time text NOT NULL,                # Plaster or gypsum cast times in relative URL format
   repos_time text NOT NULL,                  # Reposition times in relatiove URL format
   tid timestamp(14),                         # Timestamp
   encoding longtext NOT NULL,                # Log of document's history (for legal purposes)
   doc_date varchar(10) NOT NULL,             # Doc date
   doc_time varchar(5) NOT NULL,              # Doc time
   duty_type varchar(15) NOT NULL,            # Type of duty (normal, oncall)
   material_codedlist text NOT NULL,          # List of materials used in the Op
   container_codedlist text NOT NULL,         # List of instrument containers used in Op
   icd_code text NOT NULL,                    # ICD10 code involved (inactive)
   ops_code text NOT NULL,                    # OPS301 code involved (inactive)
   ops_intern_code text NOT NULL              # Internal Op code involved (inactive)
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_de'
# Contains the station's structure in german language
# Note: this might be discarded in the future in favor of a single table "nursing_station" with
# an additinal "lang" element for language differentiation. This table will most probably be
# modified in the future to adjust to the module's improvements
#

CREATE TABLE nursing_station_de (
   station varchar(30) NOT NULL,                # Station's name
   dept varchar(10) NOT NULL,                   # Department to which the station belongs
   description text NOT NULL,                   # Station's description
   t_date varchar(10) NOT NULL,                 # Date of station's creation (in the database) Format: free format
   s_date varchar(10) NOT NULL,                 # Date of station's creation (for searching, statistics, sorting, etc) Format: YYYYMMDD
   info tinytext NOT NULL,                      # Station's information
   start_no smallint(6) DEFAULT '0' NOT NULL,   # First room's number
   end_no smallint(6) DEFAULT '0' NOT NULL,     # Last room's number
   bedtype tinyint(4) DEFAULT '0' NOT NULL,     # Type of bed (2 bed, 1 bed, multiple beds) Currently fixed to 2-bed type
   bed_id1 char(1) DEFAULT 'a' NOT NULL,        # Prefix of first bed
   bed_id2 char(1) DEFAULT 'b' NOT NULL,        # Prefix of second bed
   maxbed tinyint(2) DEFAULT '0' NOT NULL,      # Maximum number of beds available
   roomprefix varchar(4) NOT NULL,              # Prefix of room's number
   headnurse_1 varchar(30) NOT NULL,            # Headnurse's name
   headnurse_2 varchar(30) NOT NULL,            # Assistant headnurse's name
   nurses text NOT NULL,                        # List of ward's nurses and nursing assistants
   encoder varchar(30) NOT NULL,                # Person creating the station
   edit_date varchar(10) NOT NULL,              # Last edit date
   editor varchar(10) NOT NULL                  # Station's data editor
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_en'
# Contains the station's structure in english language
# Note: this might be discarded in the future in favor of a single table "nursing_station" with
# an additinal "lang" element for language differentiation. This table will most probably be
# modified in the future to adjust to the module's improvements

CREATE TABLE nursing_station_en (
   station varchar(30) NOT NULL,                # Station's name
   dept varchar(10) NOT NULL,                   # Department to which the station belongs
   description text NOT NULL,                   # Station's description
   t_date varchar(10) NOT NULL,                 # Date of station's creation (in the database) Format: free format
   s_date varchar(10) NOT NULL,                 # Date of station's creation (for searching, statistics, sorting, etc) Format: YYYYMMDD
   info tinytext NOT NULL,                      # Station's information
   start_no smallint(6) DEFAULT '0' NOT NULL,   # First room's number
   end_no smallint(6) DEFAULT '0' NOT NULL,     # Last room's number
   bedtype tinyint(4) DEFAULT '0' NOT NULL,     # Type of bed (2 bed, 1 bed, multiple beds) Currently fixed to 2-bed type
   bed_id1 char(1) DEFAULT 'a' NOT NULL,        # Prefix of first bed
   bed_id2 char(1) DEFAULT 'b' NOT NULL,        # Prefix of second bed
   maxbed tinyint(2) DEFAULT '0' NOT NULL,      # Maximum number of beds available
   roomprefix varchar(4) NOT NULL,              # Prefix of room's number
   headnurse_1 varchar(30) NOT NULL,            # Headnurse's name
   headnurse_2 varchar(30) NOT NULL,            # Assistant headnurse's name
   nurses text NOT NULL,                        # List of ward's nurses and nursing assistants
   encoder varchar(30) NOT NULL,                # Person creating the station
   edit_date varchar(10) NOT NULL,              # Last edit date
   editor varchar(10) NOT NULL                  # Station's data editor
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients'
# Contains the list of patients in a ward or station
# Note: this table will be modified in the future for optimization
# station = ward, ward = station, dept = department

CREATE TABLE nursing_station_patients (
   station varchar(30) NOT NULL,                   # Ward's name
   dept varchar(30) NOT NULL,                      # Dept's name
   name varchar(10) NOT NULL,                      # Inactive (reserved)
   t_date varchar(10) NOT NULL,                    # Date of list. Free format
   s_date varchar(10) NOT NULL,                    # Date of list. Format: YYYYMMDD
   info tinytext NOT NULL,                        
   start_no smallint(6) DEFAULT '0' NOT NULL,
   end_no smallint(6) DEFAULT '0' NOT NULL,
   bedtype tinyint(4) DEFAULT '0' NOT NULL,
   bed_id1 char(1) DEFAULT 'a' NOT NULL,
   bed_id2 char(1) DEFAULT 'b' NOT NULL,
   roomprefix varchar(4) NOT NULL,
   maxbed tinyint(4) DEFAULT '0' NOT NULL,  
   freebed tinyint(4) DEFAULT '0' NOT NULL,        # Number of free beds
   closedbeds tinyint(4) DEFAULT '0' NOT NULL,     # Number of locked beds
   usedbed tinyint(4) DEFAULT '0' NOT NULL,        # Number of occupied beds
   usebed_percent tinyint(4) DEFAULT '0' NOT NULL, # Percentage of occupied beds
   bed_patient text NOT NULL,                      # List of patients occupancy in the ward (in relative URL format)
   encoder varchar(30) NOT NULL,                   # Person who created the list
   edit_date text NOT NULL,                        # Date of last update
   editor text NOT NULL                            # Person who did the last update
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_color_rider'
# Contains the flag informations for the color coded riders on the patient's clinical charts folder
# Current status: INACTIVE, pending function
#

CREATE TABLE nursing_station_patients_color_rider (
   patnum int(8) DEFAULT '0' NOT NULL,
   lastname varchar(30) NOT NULL,
   firstname varchar(30) NOT NULL,
   bday varchar(10) NOT NULL,
   red tinyint(1) DEFAULT '0' NOT NULL,
   black tinyint(1) DEFAULT '0' NOT NULL,
   blue tinyint(1) DEFAULT '0' NOT NULL,
   violet tinyint(1) DEFAULT '0' NOT NULL,
   yellow tinyint(1) DEFAULT '0' NOT NULL,
   green tinyint(1) DEFAULT '0' NOT NULL,
   orange tinyint(1) DEFAULT '0' NOT NULL,
   rose_1 tinyint(1) DEFAULT '0' NOT NULL,
   rose_2 tinyint(1) DEFAULT '0' NOT NULL,
   rose_3 tinyint(1) DEFAULT '0' NOT NULL,
   rose_4 tinyint(1) DEFAULT '0' NOT NULL,
   rose_5 tinyint(1) DEFAULT '0' NOT NULL,
   rose_6 tinyint(1) DEFAULT '0' NOT NULL,
   rose_7 tinyint(1) DEFAULT '0' NOT NULL,
   rose_8 tinyint(1) DEFAULT '0' NOT NULL,
   rose_9 tinyint(1) DEFAULT '0' NOT NULL,
   rose_10 tinyint(1) DEFAULT '0' NOT NULL,
   rose_11 tinyint(1) DEFAULT '0' NOT NULL,
   rose_12 tinyint(1) DEFAULT '0' NOT NULL,
   rose_13 tinyint(1) DEFAULT '0' NOT NULL,
   rose_14 tinyint(1) DEFAULT '0' NOT NULL,
   rose_15 tinyint(1) DEFAULT '0' NOT NULL,
   rose_16 tinyint(1) DEFAULT '0' NOT NULL,
   rose_17 tinyint(1) DEFAULT '0' NOT NULL,
   rose_18 tinyint(1) DEFAULT '0' NOT NULL,
   rose_19 tinyint(1) DEFAULT '0' NOT NULL,
   rose_20 tinyint(1) DEFAULT '0' NOT NULL,
   rose_21 tinyint(1) DEFAULT '0' NOT NULL,
   rose_22 tinyint(1) DEFAULT '0' NOT NULL,
   rose_23 tinyint(1) DEFAULT '0' NOT NULL,
   rose_24 tinyint(1) DEFAULT '0' NOT NULL
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_curve'
# Contains the data found in the patient's clinical charts
#

CREATE TABLE nursing_station_patients_curve (
   patnum bigint(20) DEFAULT '0' NOT NULL,      # Patient's or case number
   lastname varchar(40) DEFAULT '0' NOT NULL,   # Lastname
   firstname varchar(30) DEFAULT '0' NOT NULL,  # Firstname
   bday varchar(10) DEFAULT '0' NOT NULL,       # Date of birth
   allergy text NOT NULL,                       # Allergy info
   cave tinytext NOT NULL,                      # CAVE info (caution)
   diag_ther text NOT NULL,                     # Diagnosis/Therapy
   xdiag_specials text NOT NULL,                # Extra diagnosis/therapy
   anticoag varchar(40) NOT NULL,               # Anticoagulants 
   anticoag_dailydose text NOT NULL,            # Anticoagulants daily dose & application (in relative URL format)
   lot_mat_etc text NOT NULL,                   # Extra info e.g. LOT, material, etc.
   iv_needle text NOT NULL,                     # Daily IV medication & application (in relative URL format)
   medication text NOT NULL,                    # Medication plan
   medication_dailydose text NOT NULL,          # Daily medication dosage and application (in relative URL format)
   fe_date varchar(10) DEFAULT '0' NOT NULL,    # Admission date (first entry in the chart)
   le_date varchar(10) NOT NULL,                # Last entry date 
   diet text NOT NULL,                          # Diet plan (in relative URL format)
   bp_temp text NOT NULL,                       # Blood pressure & Temperature (fever) (in relative URL format)
   diag_ther_dailyreport text NOT NULL,         # Daily diagnosis and therapy plan/report (in relative URL format)
   kg_atg_etc text NOT NULL,                    # Daily Gymnastics, Physiotherapy, AT- prophilaxis, etc. (in relative URL format)
   encoding text NOT NULL                       # Log of the chart's history (for legal reasons)
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_diagnostic_reports'
# Contains the diagnostics reports which belong to the patient's clinical charts
# Current status: INACTIVE, pending the module's completion
#

CREATE TABLE nursing_station_patients_diagnostic_reports (
   patnum bigint(20) DEFAULT '0' NOT NULL,       # Patient's or case number
   lastname varchar(40) DEFAULT '0' NOT NULL,    # Lastname
   firstname varchar(30) DEFAULT '0' NOT NULL,   # Firstname
   bday varchar(10) DEFAULT '0' NOT NULL,        # Date of birth
   dept varchar(20) DEFAULT '0' NOT NULL,        # Department's name
   report text NOT NULL,                         # Actual Report's text body
   report_date varchar(10) NOT NULL,             # Report's date Format: free format
   report_src_date varchar(8) NOT NULL,          # Report's date for searching. Format: YYYYMMDD
   send tinyint(1) DEFAULT '0' NOT NULL,         # Send flag (0
   send_date varchar(10) NOT NULL                # Send date
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_diagnostic_requests'
# Contains the schedule requests
# Current status: INACTIVE, pending the module's completion
#

CREATE TABLE nursing_station_patients_diagnostic_requests (
   patnum bigint(20) DEFAULT '0' NOT NULL,       # Patient's or case number
   lastname varchar(40) DEFAULT '0' NOT NULL,    # Lastname
   firstname varchar(30) DEFAULT '0' NOT NULL,   # Firstname
   bday varchar(10) DEFAULT '0' NOT NULL,        # Date of birth
   dept varchar(20) DEFAULT '0' NOT NULL,        # Department's name
   report text NOT NULL,                         # Actual Report's text body
   report_date varchar(10) NOT NULL,             # Report's date Format: free format
   report_src_date varchar(8) NOT NULL,          # Report's date for searching. Format: YYYYMMDD
   send tinyint(1) DEFAULT '0' NOT NULL,         # Send flag (0
   send_date varchar(10) NOT NULL                # Send date
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_directives'
# Contains the doctor's directives or orders
#

CREATE TABLE nursing_station_patients_directives (
   patnum bigint(20) DEFAULT '0' NOT NULL,       # Patient's or case number
   lastname varchar(40) DEFAULT '0' NOT NULL,    # Lastname
   firstname varchar(30) DEFAULT '0' NOT NULL,   # Firstname
   bday varchar(10) DEFAULT '0' NOT NULL,        # Date of birth
   fe_date varchar(10) DEFAULT '0' NOT NULL,     # Date of first item's entry
   le_date varchar(10) NOT NULL,                 # Date of last item's entry
   report text NOT NULL,                         # Main directives' body text
   np_report text NOT NULL                       # Main inquiries to the doctor body text
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_release'
# Contains data of the patient's dismissal
#

CREATE TABLE nursing_station_patients_release (
   station varchar(30) NOT NULL,      # Ward name
   dept varchar(30) NOT NULL,         # Dept name
   name varchar(10) NOT NULL,         # (reserved)
   patnum varchar(10) NOT NULL,       # Patient or case number
   lastname varchar(30) NOT NULL,     # Last name
   firstname varchar(25) NOT NULL,    # First anme
   bday varchar(10) NOT NULL,         # DOB
   x_date varchar(10) NOT NULL,       # Dismissal date Format: free format
   x_time varchar(5) NOT NULL,        # Dismissal time
   relart varchar(10) NOT NULL,       # Dismissal type
   s_date varchar(10) NOT NULL,       # Dismissal date Format: YYYYMMDD
   discharge_rem tinytext NOT NULL,   # Notes and remarks about the dismissal
   ward_rem text NOT NULL,            # (reserved)
   encoder varchar(30) NOT NULL       # Nurse who dismissed the patient
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_report'
# Contains the nursing report
#

CREATE TABLE nursing_station_patients_report (
   patnum bigint(20) DEFAULT '0' NOT NULL,       # Patient's or case number
   lastname varchar(40) DEFAULT '0' NOT NULL,    # Lastname
   firstname varchar(30) DEFAULT '0' NOT NULL,   # Firstname
   bday varchar(10) DEFAULT '0' NOT NULL,        # Date of birth
   fe_date varchar(10) DEFAULT '0' NOT NULL,     # Date of first item's entry
   le_date varchar(10) NOT NULL,                 # Date of last item's entry
   report text NOT NULL,                         # Main nursing report's body text
   np_report text NOT NULL                       # Main effective report's body text
);
# --------------------------------------------------------

#
# Table structure for table 'nursing_station_patients_root'
# Contains the main anamnese data of the patient
# Current status: INACTIVE, pending the module's completion
#

CREATE TABLE nursing_station_patients_root (
   patnum bigint(20) DEFAULT '0' NOT NULL,           # Patient number
   lastname varchar(40) NOT NULL,                    # Lastname
   firstname varchar(30) NOT NULL,                   # First name
   bday varchar(10) NOT NULL,                        # DOB
   address tinytext NOT NULL,                        # Address
   phone varchar(30) NOT NULL,                       # Phone
   acc1 varchar(40) NOT NULL,                        # Accompany name 1
   acc1_phone varchar(25) NOT NULL,                  # Accompany phone number 1
   acc2 varchar(40) NOT NULL,                        # Accompany name 2
   acc2_phone varchar(25) NOT NULL,                  # Accompany phone number 2
   insurance_type varchar(15) NOT NULL,              # Insurance type
   insurance_name tinytext NOT NULL,                 # Insurer's name
   eyeglass tinyint(4) DEFAULT '0' NOT NULL,         # Eyeglasses
   contactlens tinyint(4) DEFAULT '0' NOT NULL,      # Contact lenses
   teethprosthesis tinyint(4) DEFAULT '0' NOT NULL,  # Teeth prosthesis
   hws_syndrom tinyint(4) DEFAULT '0' NOT NULL,      # Neck syndrom
   allergy tinytext NOT NULL,                        # Allergies
   medication tinytext NOT NULL,                     # Medication, past and present
   entry_date varchar(10) DEFAULT '0' NOT NULL,      # Admission in ward date
   entry_time varchar(5) DEFAULT '0' NOT NULL,       # Admission in ward time
   entry_station varchar(20) NOT NULL,               # Ward name
   encoder varchar(25) NOT NULL,                     # Name of nurse who collected this data
   tid timestamp(14)                                 # Timestamp
);
# --------------------------------------------------------

#
# Table structure for table 'op_med_doc'
# Contains the data of the surgical operation documents which are written by the surgeons
# Note: Doc = document, Dept = department, Op = surgical operation

CREATE TABLE op_med_doc (
   dept varchar(25) NOT NULL,                  # Dept name
   doc_no mediumint(9) DEFAULT '0' NOT NULL,   # Doc number
   op_date varchar(12) NOT NULL,               # Op date
   op_time varchar(10) NOT NULL,               # Op time
   operator tinytext NOT NULL,                 # Surgeon ( operator)
   patient_no int(9) DEFAULT '0' NOT NULL,     # Patient number
   lastname tinytext NOT NULL,                 # Last name
   firstname tinytext NOT NULL,                # First name
   birthdate tinytext NOT NULL,                # Birthdate
   status varchar(5) NOT NULL,                 # Civil status
   finanz varchar(7) NOT NULL,                 # Payment mode
   diagnosis text NOT NULL,                    # Diagnosis
   localize text NOT NULL,                     # Localization of diagnosis
   therapy text NOT NULL,                      # Therapy
   special text NOT NULL,                      # Additional special remarks
   class_s tinyint(4) DEFAULT '0' NOT NULL,    # Op classification (minor Op)
   class_m tinyint(4) DEFAULT '0' NOT NULL,    # Op classificatio (semi-major Op)
   class_l tinyint(4) DEFAULT '0' NOT NULL,    # Op classification (major Op)
   op_start varchar(7) NOT NULL,               # Op start (first incision)
   op_end varchar(7) NOT NULL,                 # Op end (last suture)
   scrub_nurse tinytext NOT NULL,              # Scrub nurse's name (or id)
   op_room char(3) NOT NULL,                   # Op room number or name
   encoder tinytext NOT NULL,                  # Author of this doc
   encode_dt varchar(20) NOT NULL,             # Doc date
   editor tinytext NOT NULL,                   # Doc Editor
   edit_dt varchar(20) NOT NULL,               # Last edit date
   tstamp timestamp(14)                        # Timestamp
);
# --------------------------------------------------------

#
# Table structure for table 'ops301_de'
# Contains the german OPS301 coding system for surgical operations
#

CREATE TABLE ops301_de (
   code varchar(12) NOT NULL,                   # Code number of the operation
   description text NOT NULL,                   # Description of the operation
   inclusive text NOT NULL,                     # Inklusiva
   exclusive text NOT NULL,                     # Exklusiva
   notes text NOT NULL,                         # Notes
   std_code char(1) NOT NULL,                   # Standard coding system (reserved)
   sub_level tinyint(4) DEFAULT '0' NOT NULL,   # Sublevel classification code
   remarks text NOT NULL                        # Additional remarks
);
# --------------------------------------------------------

#
# Table structure for table 'ops301_en'
# Contains the german OPS301 coding system for surgical operations "English translation"
# Current status: EMPTY, the english translation is not yet available.
#

CREATE TABLE ops301_en (
   code varchar(12) NOT NULL,                   # Code number of the operation
   description text NOT NULL,                   # Description of the operation
   inclusive text NOT NULL,                     # Inklusiva
   exclusive text NOT NULL,                     # Exklusiva
   notes text NOT NULL,                         # Notes
   std_code char(1) NOT NULL,                   # Standard coding system (reserved)
   sub_level tinyint(4) DEFAULT '0' NOT NULL,   # Sublevel classification code
   remarks text NOT NULL                        # Additional remarks
);
# --------------------------------------------------------

#
# Table structure for table 'personell_data'
# Main table for personell's data.
# Note: This table will most probably modified to accomodate more 
# personell information and pending module's improvements
#

CREATE TABLE personell_data (
   personell_nr varchar(15) NOT NULL,  # Personell id number
   lastname varchar(40) NOT NULL,      # Last name
   jr_sr varchar(10) NOT NULL,         # Additional name
   firstname varchar(30) NOT NULL,     # First name
   bday varchar(10) NOT NULL,          # DOB Free format
   bday_src varchar(8) NOT NULL,       # DOB Search format: YYYYMMDD
   sex varchar(10) NOT NULL,           # Sex
   title varchar(20) NOT NULL,         # Person's title
   address tinytext NOT NULL,          # Address
   profession varchar(50) NOT NULL,    # Profession
   phone1 varchar(40) NOT NULL,        # Telephone number #1
   phone2 varchar(40) NOT NULL,        # Telephone number #2
   tid timestamp(14),                  # Timestamp of data entry
   duty_phone varchar(40) NOT NULL,    # Telephone number during stay-in duty
   duty_funk varchar(10) NOT NULL,     # Beeper number during stay-in duty
   oncall_phone varchar(40) NOT NULL,  # Telephone number during on-call duty
   oncall_funk varchar(10) NOT NULL,   # Beeper number during on-cal duty
   info text NOT NULL                  # Addtional info
);
# --------------------------------------------------------

#
# Table structure for table 'personell_data_quicklist'
# Contains the personell list used for "quicklist" pop-up windows
# Note: this will be modified for optimization.
#

CREATE TABLE personell_data_quicklist (
   dept varchar(20) NOT NULL,                             # Dept name
   personell_nr varchar(15) NOT NULL,                     # Personell id number
   lastname varchar(40) NOT NULL,                         # Last name
   jr_sr varchar(10) NOT NULL,                            # Additional name
   firstname varchar(30) NOT NULL,                        # First name
   bday varchar(10) NOT NULL,                             # DOB free format
   bday_src varchar(8) NOT NULL,                          # DOB Format: YYYYMMDD
   sex varchar(10) NOT NULL,                              # sex
   title varchar(20) NOT NULL,                            # Title
   profession varchar(50) NOT NULL,                       # Profession
   info text NOT NULL,                                    # Extra info
   frequency smallint(5) unsigned DEFAULT '0' NOT NULL    # Ranking number to determine in which order will the person be displayed on the "quicklist"
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_ordercatalog'
# Contains the order catalog for pharmacy products.
# Note: This is very similar to the "med_ordercatalog" above
#

CREATE TABLE pharma_ordercatalog (
   dept varchar(20) NOT NULL,          # Department name of the catalog
   hit int(11) DEFAULT '0' NOT NULL,   # Ranking number to determine the order in which the product is shown on the list
   artikelname tinytext NOT NULL,      # Product article's name
   bestellnum tinytext NOT NULL,       # Order number (number is usually set internally by the pharmacy)
   proorder tinytext NOT NULL          # Number of pcs. per order (set usually by the pharmacy)
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_orderlist'
# Contains the order list to the pharmacy
# Note : This is very similar to the "med_orderlist" above
#

CREATE TABLE pharma_orderlist (
   dept varchar(20) NOT NULL,     # Department's name
   order_id tinytext NOT NULL,    # Order id number
   order_date tinytext NOT NULL,  # Order date
   articles text NOT NULL,        # List of ordered articles or products. Format in relative URL: bestellnum=232234&artikelname=Paracetamol&pcs=1&proorder=50
   extra1 tinytext NOT NULL,      # Extra Notes 1 (for extra requests not found in the databank)
   extra2 text NOT NULL,          # Extra Notes 2
   encoder tinytext NOT NULL,     # Name of ordering personell
   validator tinytext NOT NULL,   # Name of validator (usually a doctor)
   order_time text NOT NULL,      # Order time
   ip_addr tinytext NOT NULL,     # IP address of workstation where order was created
   priority tinytext NOT NULL,    # Priority flag (normal, urgent)
   sent_stamp timestamp(14)
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_orderlist_archive'
# Note: This is very similar to the "med_orderlist_archive" above
#

CREATE TABLE pharma_orderlist_archive (
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at pharma_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_orderlist_archive_trash'
# Note: This is very similar to the "med_orderlist_archive" above
#

CREATE TABLE pharma_orderlist_archive_trash (
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at pharma_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_orderlist_todo'
# Contains pending order lists
# Note : This is very similar to the "med_orderlit_todo" above
#

CREATE TABLE pharma_orderlist_todo (
   rec_date tinytext NOT NULL,
   rec_date tinytext NOT NULL,    # Reception date
   rec_time tinytext NOT NULL,    # Reception time
   order_id tinytext NOT NULL,    # Order id number (points to the order list at pharma_order_list)
   dept tinytext NOT NULL,        # Department's name
   clerk tinytext NOT NULL,       # Name of person who processed the order
   done_date tinytext NOT NULL,   # Processing date
   status tinytext NOT NULL,      # Order status
   priority tinytext NOT NULL,    # Priority status
   t_stamp timestamp(14)          # Timestamp of archiving
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_products_main'
# Contains the main products of the pharmacy
# Note : Thi is very similar to the "med_products_main" above
#

CREATE TABLE pharma_products_main (
   bestellnum tinytext NOT NULL,
   artikelnum tinytext NOT NULL,
   industrynum tinytext NOT NULL,
   artikelname tinytext NOT NULL,
   generic tinytext NOT NULL,
   description text NOT NULL,
   packing tinytext NOT NULL,
   minorder int(4) DEFAULT '0' NOT NULL,
   maxorder int(4) DEFAULT '0' NOT NULL,
   proorder tinytext NOT NULL,
   picfile tinytext NOT NULL,
   encoder tinytext NOT NULL,
   enc_date tinytext NOT NULL,
   enc_time tinytext NOT NULL,
   lock_flag tinyint(1) DEFAULT '0' NOT NULL,
   medgroup text NOT NULL,
   cave tinytext NOT NULL
);
# --------------------------------------------------------

#
# Table structure for table 'pharma_products_trash'
#

CREATE TABLE pharma_products_trash (
   bestellnum tinytext NOT NULL,               # Ordering number (internally created number)
   artikelnum tinytext NOT NULL,               # Product article number (usually supplied by the manufacturer)
   industrynum tinytext NOT NULL,              # Industry number (usually industrial registration number)
   artikelname tinytext NOT NULL,              # Product article's name e.g. "Laser printer"
   generic tinytext NOT NULL,                  # Generic name (if applicable)
   description text NOT NULL,                  # Product's description
   packing tinytext NOT NULL,                  # Packing type
   minorder int(4) DEFAULT '0' NOT NULL,       # Mininum number per order
   maxorder int(4) DEFAULT '0' NOT NULL,       # Maximum number per order
   proorder tinytext NOT NULL,                 # Number of items per unit order
   picfile tinytext NOT NULL,                  # Filename of the product's picture (the picture itself is saved as file)
   encoder tinytext NOT NULL,                  # Name of person who entered the product's data
   enc_date tinytext NOT NULL,                 # Entry date
   enc_time tinytext NOT NULL,                 # Entry time
   lock_flag tinyint(1) DEFAULT '0' NOT NULL,  # Flag for locking the product (1 = lock or hide, 0 = make available)
   medgroup text NOT NULL,                     # Medical group of the product (e.g. Antibiotics)
   cave tinytext NOT NULL                      # Caution notices
);
# --------------------------------------------------------

#
# Table structure for table 'station2dept_table'
# Contains cross reference data between station and departments
#

CREATE TABLE station2dept_table ( 
   dept tinytext NOT NULL,             # Dept name
   station text NOT NULL,              # Station or wards that belong to the department
   op tinyint(4) DEFAULT '0' NOT NULL  # OP rooms that belong to the department
);
# --------------------------------------------------------

#
# Table structure for table 'steri_products_main'
# Contains the products data of the central sterilization department
# Current status: INACTIVE, pending the module's completion
#

CREATE TABLE steri_products_main (
   bestellnum tinytext NOT NULL,               # Ordering number (internally created number)
   artikelnum tinytext NOT NULL,               # Product article number (usually supplied by the manufacturer)
   industrynum tinytext NOT NULL,              # Industry number (usually industrial registration number)
   artikelname tinytext NOT NULL,              # Product article's name e.g. "Laser printer"
   generic tinytext NOT NULL,                  # Generic name (if applicable)
   description text NOT NULL,                  # Product's description
   packing tinytext NOT NULL,                  # Packing type
   minorder int(4) DEFAULT '0' NOT NULL,       # Mininum number per order
   maxorder int(4) DEFAULT '0' NOT NULL,       # Maximum number per order
   proorder tinytext NOT NULL,                 # Number of items per unit order
   picfile tinytext NOT NULL,                  # Filename of the product's picture (the picture itself is saved as file)
   encoder tinytext NOT NULL,                  # Name of person who entered the product's data
   enc_date tinytext NOT NULL,                 # Entry date
   enc_time tinytext NOT NULL,                 # Entry time
   lock_flag tinyint(1) DEFAULT '0' NOT NULL,  # Flag for locking the product (0 = lock or hide, 1 = make available)
   medgroup text NOT NULL,                     # Medical group of the product (e.g. Desinfection)
   cave tinytext NOT NULL                      # Caution notices
);
# --------------------------------------------------------

#
# Table structure for table 'tech_questions'
# Contains the inquiries and questions sent to the tech dept.
#

CREATE TABLE tech_questions (
   dept varchar(15) NOT NULL,                # Dept name which sent the question
   query text NOT NULL,                      # Body text of the inquiry or question
   inquirer varchar(25) NOT NULL,            # Inquirer's name
   tphone varchar(30) NOT NULL,              # Inquirer's telephone number
   tdate varchar(11) NOT NULL,               # Send date
   ttime varchar(7) NOT NULL,                # Send time
   tid timestamp(14),                        # Send timestamp
   reply text NOT NULL,                      # Body text of the tech dept's reply
   answered tinyint(1) DEFAULT '0' NOT NULL, # Answered flag (0 = unanswered, 1 = answered)
   ansby varchar(25) NOT NULL,               # Name of person who replied
   astamp varchar(16) NOT NULL,              # Date of archiving
   archive tinyint(1) DEFAULT '0' NOT NULL   # Archived flag (1 = archived , 0 = current)
);
# --------------------------------------------------------

#
# Table structure for table 'tech_repair_done'
# Contains reports about repair jobs that are done
#

CREATE TABLE tech_repair_done (
   dept varchar(15) NOT NULL,               # Dept name where the job was done
   job_id bigint(14),                       # Job id number
   job text NOT NULL,                       # Job description
   reporter varchar(25) NOT NULL,           # Reporter's name
   id varchar(15) NOT NULL,                 # Reporter's id number
   tdate varchar(11) NOT NULL,              # Report's date
   ttime varchar(7) NOT NULL,               # Report's time
   tid timestamp(14),                       # Report's timestamp
   seen tinyint(1) DEFAULT '0' NOT NULL,    # Report seen flag ( 1 = seen, 0 = not yet seen)     
   d_idx varchar(8) NOT NULL                # Date in format: YYYYMMDD
);
# --------------------------------------------------------

#
# Table structure for table 'tech_repair_job'
# Contains requests for repair jobs
#

CREATE TABLE tech_repair_job (
   dept varchar(15) NOT NULL,                  # Dept name that requested the repair job
   job text NOT NULL,                          # Job or damage description
   reporter varchar(25) NOT NULL,              # Name of person requesting repair 
   id varchar(15) NOT NULL,                    # Person's id number
   tphone varchar(30) NOT NULL,                # Person's telephone number 
   tdate varchar(11) NOT NULL,                 # Request date
   ttime varchar(7) NOT NULL,                  # Request time
   tid timestamp(14),                          # Timestamp
   done tinyint(1) DEFAULT '0' NOT NULL,       # Done flag (0 = repair pending, 1 = repair done)
   seen tinyint(1) DEFAULT '0' NOT NULL,       # Request seen flag (0 = request not yet seen, 1 = request seen)
   seenby varchar(25) NOT NULL,                # Name of person who received the request
   sstamp varchar(16) NOT NULL,                # Timestamp of reception
   doneby varchar(25) NOT NULL,                # Person who did the repair
   dstamp varchar(16) NOT NULL,                # Date of repair work
   d_idx varchar(8) NOT NULL,                  # Date of repair work in format YYYYMMDD
   archive tinyint(1) DEFAULT '0' NOT NULL     # Archived request flag (0 = archived, 1 = current)
);
